
#import <Foundation/Foundation.h>

NSString *StringFromForm_Data(Byte *data);


//: menu_forword
Byte viewAssistAccountError[] = {1, 12, 16, 4, 125, 117, 126, 133, 111, 118, 127, 130, 135, 127, 130, 116, 22};

//: report_Content
Byte constAcknowledgeAnalyzeMessage[] = {70, 14, 25, 10, 188, 91, 117, 146, 176, 253, 139, 126, 137, 136, 139, 141, 120, 92, 136, 135, 141, 126, 135, 141, 183};

//: onTapMenuItemTranslation:
Byte colorTechniquePreference[] = {43, 25, 27, 8, 180, 209, 35, 65, 138, 137, 111, 124, 139, 104, 128, 137, 144, 100, 143, 128, 136, 111, 141, 124, 137, 142, 135, 124, 143, 132, 138, 137, 85, 220};

//: onTapMenuItemForword:
Byte colorPerformName[] = {84, 21, 84, 14, 61, 218, 241, 220, 217, 48, 21, 98, 161, 212, 195, 194, 168, 181, 196, 161, 185, 194, 201, 157, 200, 185, 193, 154, 195, 198, 203, 195, 198, 184, 142, 126};

//: friend_circle_adapter_like
Byte layoutQuantityerWaterPlatform[] = {43, 26, 13, 13, 54, 240, 228, 215, 182, 22, 196, 18, 45, 115, 127, 118, 114, 123, 113, 108, 112, 118, 127, 112, 121, 114, 108, 110, 113, 110, 125, 129, 114, 127, 108, 121, 118, 120, 114, 10};

//: onTapMenuItemReport:
Byte k_speakResource[] = {65, 20, 90, 4, 201, 200, 174, 187, 202, 167, 191, 200, 207, 163, 206, 191, 199, 172, 191, 202, 201, 204, 206, 148, 20};

//: emoticon_emoji_%02ld
Byte k_storageString[] = {89, 20, 55, 11, 222, 32, 219, 70, 36, 21, 31, 156, 164, 166, 171, 160, 154, 166, 165, 150, 156, 164, 166, 161, 160, 150, 92, 103, 105, 163, 155, 244};

//: menu_copy
Byte commonMatchResource[] = {80, 9, 18, 7, 161, 97, 254, 127, 119, 128, 135, 113, 117, 129, 130, 139, 162};

//: onTapMenuItemRevoke:
Byte componentCliffFormat[] = {95, 20, 33, 5, 42, 144, 143, 117, 130, 145, 110, 134, 143, 150, 106, 149, 134, 142, 115, 134, 151, 144, 140, 134, 91, 144};

//: menu_report
Byte viewTrustNumber[] = {98, 11, 48, 10, 173, 247, 173, 157, 221, 169, 157, 149, 158, 165, 143, 162, 149, 160, 159, 162, 164, 254};

//: menu_revoke
Byte moduleGenuineLargeArenaPlatform[] = {97, 11, 3, 7, 147, 55, 191, 112, 104, 113, 120, 98, 117, 104, 121, 114, 110, 104, 50};

//: onTapMenuItemCopy:
Byte userCommitConfig[] = {60, 18, 72, 5, 241, 183, 182, 156, 169, 184, 149, 173, 182, 189, 145, 188, 173, 181, 139, 183, 184, 193, 130, 7};

//: menu_praise
Byte k_flashMessage[] = {47, 11, 14, 14, 171, 99, 147, 14, 66, 78, 137, 214, 229, 129, 123, 115, 124, 131, 109, 126, 128, 111, 119, 129, 115, 225};

//: menu_translation
Byte kPreciseNumber[] = {93, 16, 70, 9, 160, 82, 194, 87, 143, 179, 171, 180, 187, 165, 186, 184, 167, 180, 185, 178, 167, 186, 175, 181, 180, 207};

//: onTapMenuItemPraise:
Byte styleMagicTreatTimer[] = {78, 20, 95, 8, 103, 134, 235, 101, 206, 205, 179, 192, 207, 172, 196, 205, 212, 168, 211, 196, 204, 175, 209, 192, 200, 210, 196, 153, 104};

// __DEBUG__
// __CLOSE_PRINT__
//
//  DropReportRadarStroke.m
//  NIM
//
//  Created by amao on 8/11/15.
//  Copyright (c) 2015 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "DropReportRadarStroke.h"
#import "DropReportRadarStroke.h"
//: #import "WidescreenEvaluateResponsiveInside.h"
#import "WidescreenEvaluateResponsiveInside.h"
//: #import "RotateThresholdGenerator.h"
#import "RotateThresholdGenerator.h"
//: #import "SpacingValidSignGlorious.h"
#import "SpacingValidSignGlorious.h"
//: #import "TheoryLimitVersion.h"
#import "TheoryLimitVersion.h"
//: #import "RotateThresholdGenerator.h"
#import "RotateThresholdGenerator.h"
//: #import "NSString+FaithfulSpiritWarm.h"
#import "NSString+FaithfulSpiritWarm.h"
//: #import "MeritTaskFunctionArray.h"
#import "MeritTaskFunctionArray.h"
//: #import "FaintSplendidMonster.h"
#import "FaintSplendidMonster.h"
//: #import "ContextRemediationLocalTime.h"
#import "ContextRemediationLocalTime.h"
//: #import "NumberJungleEntity.h"
#import "NumberJungleEntity.h"

//: @interface DropReportRadarStroke()
@interface DropReportRadarStroke()
//: @property (nonatomic,strong) NIMMessage *threadMessage;
@property (nonatomic,strong) NIMMessage *photoBrillianted;
//: @end
@end

//: @implementation DropReportRadarStroke
@implementation DropReportRadarStroke

//: - (NSArray<UnloadTerrainClipperCoderExtend *> *)charlets
- (NSArray<UnloadTerrainClipperCoderExtend *> *)skinSlope
{
    //: return nil;
    return nil;
}


//: - (NIMAudioType)recordType
- (NIMAudioType)candidChart
{
    //: return [[RotateThresholdGenerator sharedConfig] usingAmr] ? NIMAudioTypeAMR : NIMAudioTypeAAC;
    return [[RotateThresholdGenerator boundary] ownerWith] ? NIMAudioTypeAMR : NIMAudioTypeAAC;
}

//: - (BOOL)disableProximityMonitor{
- (BOOL)thanFeature{
    //: return [[RotateThresholdGenerator sharedConfig] disableProximityMonitor];
    return [[RotateThresholdGenerator boundary] thanFeature];
}

//: - (NSArray<NSNumber *> *)inputBarItemTypes{
- (NSArray<NSNumber *> *)owner{
    //: return @[
    return @[
             //: @(BuildCrescentSpawnTextAndRecord),
             @(BuildCrescentSpawnTextAndRecord),
        //: @(BuildCrescentSpawnSend),
        @(BuildCrescentSpawnSend),
            //: ];
            ];
}

//: - (NSArray *)emotionItems
- (NSArray *)capacity
{
    //NSArray *indexs = @[@(1),@(145),@(12),@(15),@(10),@(18),@(19)];
    //: NSArray *indexs = @[];
    NSArray *indexs = @[];
    //: NSMutableArray *items = [NSMutableArray array];
    NSMutableArray *items = [NSMutableArray array];
    //: for (NSNumber *index in indexs)
    for (NSNumber *index in indexs)
    {
        //: NSString * ID = [NSString stringWithFormat:@"emoticon_emoji_%02ld", [index integerValue]];
        NSString * ID = [NSString stringWithFormat:StringFromForm_Data(k_storageString), [index integerValue]];
        //: WideThreadCorrect *item = [[ContextRemediationLocalTime sharedManager] emoticonByID:ID];
        WideThreadCorrect *item = [[ContextRemediationLocalTime cartOff] chain:ID];
        //: if (item)
        if (item)
        {
            //: [items addObject:item];
            [items addObject:item];
        }
    }

    //: return [items copy];
    return [items copy];
}

//: - (void)setThreadMessage:(NIMMessage *)message
- (void)setPhotoBrillianted:(NIMMessage *)message
{
    //: _threadMessage = message;
    _photoBrillianted = message;
}

//: - (BOOL)clearThreadMessageAfterSent
- (BOOL)visualThick
{
    //: return YES;
    return YES;
}

//: - (NSArray *)mediaItems
- (NSArray *)growingMeasure
{
    //: NSArray *defaultMediaItems = [PerformAcknowledgePoolState sharedKit].config.defaultMediaItems;
    NSArray *defaultMediaItems = [PerformAcknowledgePoolState rock].allowException.segment;

//    WidescreenEvaluateResponsiveInside *janKenPon = [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemJanKenPon:"
//                                     normalImage:[UIImage imageNamed:@"icon_jankenpon_normal"]
//                                   selectedImage:[UIImage imageNamed:@"icon_jankenpon_pressed"]
//                                           title:LangKey(@"message_send_RPS")];//@"石头剪刀布".user_localized

//    WidescreenEvaluateResponsiveInside *fileTrans = [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemFileTrans:"
//                                                normalImage:[UIImage imageNamed:@"icon_file_trans_normal"]
//                                              selectedImage:[UIImage imageNamed:@"icon_file_trans_pressed"]
//                                           title:LangKey(@"message_send_transfer")];//@"文件传输".user_localized

//    WidescreenEvaluateResponsiveInside *tip       = [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemTip:"
//                                     normalImage:[UIImage imageNamed:@"bk_media_tip_normal"]
//                                   selectedImage:[UIImage imageNamed:@"bk_media_tip_pressed"]
//                                           title:@"提示消息".user_localized];

//    WidescreenEvaluateResponsiveInside *audioChat =  [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemAudioChat:"
//                                      normalImage:[UIImage imageNamed:@"btn_media_telphone_message_normal"]
//                                    selectedImage:[UIImage imageNamed:@"btn_media_telphone_message_pressed"]
//                                           title:LangKey(@"message_send_voice_chat")];//@"实时语音".user_localized
//
//    WidescreenEvaluateResponsiveInside *videoChat =  [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemVideoChat:"
//                                      normalImage:[UIImage imageNamed:@"btn_bk_media_video_chat_normal"]
//                                    selectedImage:[UIImage imageNamed:@"btn_bk_media_video_chat_pressed"]
//                                            title:LangKey(@"message_send_video_chat")];//@"视频聊天".user_localized
//
//    WidescreenEvaluateResponsiveInside *teamMeeting =  [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemTeamMeeting:"
//                                      normalImage:[UIImage imageNamed:@"btn_media_telphone_message_normal"]
//                                    selectedImage:[UIImage imageNamed:@"btn_media_telphone_message_pressed"]
//                                            title:LangKey(@"message_send_video_chat")];//@"视频通话".user_localized

//    WidescreenEvaluateResponsiveInside *snapChat =   [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemSnapChat:"
//                                      normalImage:[UIImage imageNamed:@"bk_media_snap_normal"]
//                                    selectedImage:[UIImage imageNamed:@"bk_media_snap_pressed"]
//                                            title:@"阅后即焚".user_localized];

//    WidescreenEvaluateResponsiveInside *whiteBoard = [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemWhiteBoard:"
//                                      normalImage:[UIImage imageNamed:@"btn_whiteboard_invite_normal"]
//                                    selectedImage:[UIImage imageNamed:@"btn_whiteboard_invite_pressed"]
//
//                                            title:@"白板".user_localized];
    //红包功能因合作终止，暂时关闭
//    WidescreenEvaluateResponsiveInside *redPacket  = [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemRedPacket:"
//                                      normalImage:[UIImage imageNamed:@"icon_redpacket_normal"]
//                                    selectedImage:[UIImage imageNamed:@"icon_redpacket_pressed"]
//                                            title:LangKey(@"message_send_red_packet")];//@"红包"

//    WidescreenEvaluateResponsiveInside *teamReceipt  = [WidescreenEvaluateResponsiveInside item:@"onTapMediaItemTeamReceipt:"
//                                      normalImage:[UIImage imageNamed:@"icon_team_receipt_normal"]
//                                    selectedImage:[UIImage imageNamed:@"icon_team_receipt_pressed"]
//                                            title:@"已读回执".user_localized];



//    BOOL isMe   = _session.sessionType == NIMSessionTypeP2P
//    && [_session.sessionId isEqualToString:[[NIMSDK sharedSDK].loginManager currentAccount]];
//    NSArray *items = nil;

//    if (isMe)
//    {
//        items = @[janKenPon,tip];
//    }
//    else if(_session.sessionType == NIMSessionTypeTeam || _session.sessionType == NIMSessionTypeSuperTeam)
//    {
//        items = @[janKenPon];
//    }
//    else
//    {
//        items = @[janKenPon];
//    }


//    return [defaultMediaItems arrayByAddingObjectsFromArray:items];
    //: return defaultMediaItems;
    return defaultMediaItems;
}

//: - (BOOL)shouldHandleReceipt{
- (BOOL)move{
    //: return YES;
    return YES;
}

//: - (NSArray<WidescreenEvaluateResponsiveInside *> *)menuItemsWithMessage:(NIMMessage *)message {
- (NSArray<WidescreenEvaluateResponsiveInside *> *)roled:(NIMMessage *)message {
    //: NSMutableArray *items = [NSMutableArray array];
    NSMutableArray *items = [NSMutableArray array];

    //: WidescreenEvaluateResponsiveInside *Praise = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemPraise:"
    WidescreenEvaluateResponsiveInside *Praise = [WidescreenEvaluateResponsiveInside value:StringFromForm_Data(styleMagicTreatTimer)
                                 //: normalImage:[UIImage imageNamed:@"menu_praise"]
                                 closeActive:[UIImage imageNamed:StringFromForm_Data(k_flashMessage)]
                               //: selectedImage:nil
                               min:nil
                                       //: title:[PoolFormatStructure getTextWithKey:@"friend_circle_adapter_like"]];
                                       underOperation:[PoolFormatStructure dimension:StringFromForm_Data(layoutQuantityerWaterPlatform)]];

//    WidescreenEvaluateResponsiveInside *reply = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemReply:"
//                                 normalImage:[UIImage imageNamed:@"menu_reply"]
//                               selectedImage:nil
//                                       title:LangKey(@"回复")];

    //: WidescreenEvaluateResponsiveInside *copy = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemCopy:"
    WidescreenEvaluateResponsiveInside *copy = [WidescreenEvaluateResponsiveInside value:StringFromForm_Data(userCommitConfig)
                                //: normalImage:[UIImage imageNamed:@"menu_copy"]
                                closeActive:[UIImage imageNamed:StringFromForm_Data(commonMatchResource)]
                              //: selectedImage:nil
                              min:nil
                                      //: title:[PoolFormatStructure getTextWithKey:@"复制"]];
                                      underOperation:[PoolFormatStructure dimension:@"复制"]];

    //: WidescreenEvaluateResponsiveInside *forword = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemForword:"
    WidescreenEvaluateResponsiveInside *forword = [WidescreenEvaluateResponsiveInside value:StringFromForm_Data(colorPerformName)
                                   //: normalImage:[UIImage imageNamed:@"menu_forword"]
                                   closeActive:[UIImage imageNamed:StringFromForm_Data(viewAssistAccountError)]
                                 //: selectedImage:nil
                                 min:nil
                                         //: title:[PoolFormatStructure getTextWithKey:@"转发"]];
                                         underOperation:[PoolFormatStructure dimension:@"转发"]];

//    WidescreenEvaluateResponsiveInside *mark = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemMark:"
//                                normalImage:[UIImage imageNamed:@"menu_collect"]
//                              selectedImage:nil
//                                      title:LangKey(@"收藏")];

//    BOOL isMessagePined = [NIMSDK.sharedSDK.chatExtendManager pinItemForMessage:message] != nil;
//    NSString *pinTitle = isMessagePined ? @"Un-pin": @"Pin";
//    NSString *pinAction = isMessagePined ? @"onTapMenuItemUnpin:" : @"onTapMenuItemPin:";
//    WidescreenEvaluateResponsiveInside *pin = [WidescreenEvaluateResponsiveInside item:pinAction
//                               normalImage:[UIImage imageNamed:@"menu_pin"]
//                             selectedImage:nil
//                                     title:pinTitle];

    //: WidescreenEvaluateResponsiveInside *report = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemReport:"
    WidescreenEvaluateResponsiveInside *report = [WidescreenEvaluateResponsiveInside value:StringFromForm_Data(k_speakResource)
                                  //: normalImage:[UIImage imageNamed:@"menu_report"]
                                  closeActive:[UIImage imageNamed:StringFromForm_Data(viewTrustNumber)]
                                //: selectedImage:nil
                                min:nil
                                        //: title:[PoolFormatStructure getTextWithKey:@"report_Content"]];
                                        underOperation:[PoolFormatStructure dimension:StringFromForm_Data(constAcknowledgeAnalyzeMessage)]];

    //: WidescreenEvaluateResponsiveInside *translation = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemTranslation:"
    WidescreenEvaluateResponsiveInside *translation = [WidescreenEvaluateResponsiveInside value:StringFromForm_Data(colorTechniquePreference)
                                  //: normalImage:[UIImage imageNamed:@"menu_translation"]
                                  closeActive:[UIImage imageNamed:StringFromForm_Data(kPreciseNumber)]
                                //: selectedImage:nil
                                min:nil
                                        //: title:[PoolFormatStructure getTextWithKey:@"翻译"]];
                                        underOperation:[PoolFormatStructure dimension:@"翻译"]];

    //: WidescreenEvaluateResponsiveInside *revoke = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemRevoke:"
    WidescreenEvaluateResponsiveInside *revoke = [WidescreenEvaluateResponsiveInside value:StringFromForm_Data(componentCliffFormat)
                                  //: normalImage:[UIImage imageNamed:@"menu_revoke"]
                                  closeActive:[UIImage imageNamed:StringFromForm_Data(moduleGenuineLargeArenaPlatform)]
                                //: selectedImage:nil
                                min:nil
                                        //: title:[PoolFormatStructure getTextWithKey:@"撤回"]];
                                        underOperation:[PoolFormatStructure dimension:@"撤回"]];

//    WidescreenEvaluateResponsiveInside *delete = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemDelete:"
//                                  normalImage:[UIImage imageNamed:@"menu_del"]
//                                selectedImage:nil
//                                        title:LangKey(@"删除")];

//    WidescreenEvaluateResponsiveInside *mutiSelect = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemMutiSelect:"
//                                      normalImage:[UIImage imageNamed:@"menu_choose"]
//                                    selectedImage:nil
//                                            title:LangKey(@"多选")];

    //: [items addObject:Praise];
    [items addObject:Praise];

//    if ([FaintSplendidMonster canMessageBeForwarded:message])
//    {
//        [items addObject:reply];
//    }

    //: BOOL isMe = [message.from isEqualToString:[NIMSDK sharedSDK].loginManager.currentAccount];
    BOOL isMe = [message.from isEqualToString:[NIMSDK sharedSDK].loginManager.currentAccount];
    //: if (!isMe)
    if (!isMe)
    {
        //: [items addObject:report];
        [items addObject:report];
    }

    //: if (message.messageType == NIMMessageTypeText)
    if (message.messageType == NIMMessageTypeText)
    {
        //: [items addObject:copy];
        [items addObject:copy];
    }

    //: if ([FaintSplendidMonster canMessageBeForwarded:message]) {
    if ([FaintSplendidMonster behind:message]) {
//        [items addObject:forword];
    }
//    if ([FaintSplendidMonster canMessageBeForwarded:message]) {
//        [items addObject:mark];
//        [items addObject:pin];
//    }
    //: if (message.messageType == NIMMessageTypeText){
    if (message.messageType == NIMMessageTypeText){
        //: [items addObject:translation];
        [items addObject:translation];
    }
    //: if ([FaintSplendidMonster canMessageBeRevoked:message]) {
    if ([FaintSplendidMonster remark:message]) {
        //: [items addObject:revoke];
        [items addObject:revoke];
    }



//    [items addObject:delete];

//    if ([FaintSplendidMonster canMessageBeForwarded:message])
//    {
//        [items addObject:mutiSelect];
//    }

//    if (message.messageType == NIMMessageTypeAudio)
//    {
//        WidescreenEvaluateResponsiveInside *audio2text = [WidescreenEvaluateResponsiveInside item:@"onTapMenuItemAudio2Text:"
//          normalImage:[UIImage imageNamed:@"menu_audio2text"]
//        selectedImage:nil
//                title:@"转文字".user_localized];
//
//        [items addObject:audio2text];
//    }
    //: return items;
    return items;
}

//: - (void)cleanThreadMessage
- (void)adaptGraph
{
    //: _threadMessage = nil;
    _photoBrillianted = nil;
}

//: - (BOOL)shouldHandleReceiptForMessage:(NIMMessage *)message
- (BOOL)noExcess:(NIMMessage *)message
{
    //文字，语音，图片，视频，文件，地址位置和自定义消息都支持已读回执，其他的不支持
    //: NIMMessageType type = message.messageType;
    NIMMessageType type = message.messageType;
    //: if (type == NIMMessageTypeCustom) {
    if (type == NIMMessageTypeCustom) {
        //: NIMCustomObject *object = (NIMCustomObject *)message.messageObject;
        NIMCustomObject *object = (NIMCustomObject *)message.messageObject;
        //: id attachment = object.attachment;
        id attachment = object.attachment;

        //: if ([attachment isKindOfClass:[TheoryLimitVersion class]]) {
        if ([attachment isKindOfClass:[TheoryLimitVersion class]]) {
            //: return NO;
            return NO;
        }
    }



    //: return type == NIMMessageTypeText ||
    return type == NIMMessageTypeText ||
    //: type == NIMMessageTypeAudio ||
    type == NIMMessageTypeAudio ||
    //: type == NIMMessageTypeImage ||
    type == NIMMessageTypeImage ||
    //: type == NIMMessageTypeVideo ||
    type == NIMMessageTypeVideo ||
    //: type == NIMMessageTypeFile ||
    type == NIMMessageTypeFile ||
    //: type == NIMMessageTypeLocation ||
    type == NIMMessageTypeLocation ||
    //: type == NIMMessageTypeCustom;
    type == NIMMessageTypeCustom;
}

//: - (BOOL)disableSelectedForMessage:(NIMMessage *)message {
- (BOOL)houses:(NIMMessage *)message {
    //: return ![FaintSplendidMonster canMessageBeForwarded:message];
    return ![FaintSplendidMonster behind:message];
}

//: - (BOOL)autoFetchAttachment {
- (BOOL)delicateWall {
    //: return [[RotateThresholdGenerator sharedConfig] autoFetchAttachment];
    return [[RotateThresholdGenerator boundary] delicateWall];
}

//: @end
@end

Byte * Form_DataToCache(Byte *data) {
    int flexMenu = data[0];
    int oceanCrop = data[1];
    Byte quantityMutual = data[2];
    int up = data[3];
    if (!flexMenu) return data + up;
    for (int i = up; i < up + oceanCrop; i++) {
        int value = data[i] - quantityMutual;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[up + oceanCrop] = 0;
    return data + up;
}

NSString *StringFromForm_Data(Byte *data) {
    return [NSString stringWithUTF8String:(char *)Form_DataToCache(data)];
}
