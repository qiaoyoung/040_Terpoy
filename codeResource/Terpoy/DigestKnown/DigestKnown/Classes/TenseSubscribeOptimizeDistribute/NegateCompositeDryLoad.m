
#import <Foundation/Foundation.h>
typedef struct {
    Byte digitalColor;
    Byte *duringSurge;
    unsigned int skinOutput;
    Byte magicStableTotaleractPine;
	int stopAlong;
	int skipRemove;
	int densityLoyal;
} NaturalData;

NSString *StringFromNaturalData(NaturalData *data);


//: reply
NaturalData commonTenseTitle = (NaturalData){240, (Byte []){130, 149, 128, 156, 137, 45}, 5, 198, 16, 95, 163};

// __DEBUG__
// __CLOSE_PRINT__
//
//  NegateCompositeDryLoad.m
// PerformAcknowledgePoolState
//
//  Created by NetEase.
//  Copyright (c) 2015年 NetEase. All rights reserved.
//

// __M_A_C_R_O__
//: #import "NegateCompositeDryLoad.h"
#import "NegateCompositeDryLoad.h"
//: #import "PerformAcknowledgePoolState.h"
#import "PerformAcknowledgePoolState.h"
//: #import "WiseBaseOperandEnhance.h"
#import "WiseBaseOperandEnhance.h"

//: @interface NegateCompositeDryLoad()
@interface NegateCompositeDryLoad()

//: @property (nonatomic,strong) NSMutableDictionary *contentSizeInfo;
@property (nonatomic,strong) NSMutableDictionary *firmMinimum;
//: @property (nonatomic,strong) NSMutableDictionary *replyContentSizeInfo;
@property (nonatomic,strong) NSMutableDictionary *firstVariable;

//: @end
@end

//: @implementation NegateCompositeDryLoad
@implementation NegateCompositeDryLoad

//: @synthesize contentViewInsets = _contentViewInsets;
@synthesize analyze = _skill;
//: @synthesize bubbleViewInsets = _bubbleViewInsets;
@synthesize surface = _apply;
//: @synthesize replyContentViewInsets = _replyContentViewInsets;
@synthesize gladDramatic = _secret;
//: @synthesize replyBubbleViewInsets = _replyBubbleViewInsets;
@synthesize heavenBehavior = _planner;
//: @synthesize shouldShowAvatar = _shouldShowAvatar;
@synthesize publisher = _motionRich;
//: @synthesize shouldShowNickName = _shouldShowNickName;
@synthesize ember = _distribute;
//: @synthesize shouldShowLeft = _shouldShowLeft;
@synthesize language = _instance;
//: @synthesize avatarMargin = _avatarMargin;
@synthesize sumro = _factory;
//: @synthesize nickNameMargin = _nickNameMargin;
@synthesize youngDecide = _motionPoint;
//: @synthesize avatarSize = _avatarSize;
@synthesize secondaryCable = _hydratePath;
//: @synthesize repliedMessage = _repliedMessage;
@synthesize smooth = _resign;
//: @synthesize parentMessage = _parentMessage;
@synthesize recentScheme = _object;

//: - (UIEdgeInsets)bubbleViewInsets{
- (UIEdgeInsets)surface{
    //: if (UIEdgeInsetsEqualToEdgeInsets(_bubbleViewInsets, UIEdgeInsetsZero))
    if (UIEdgeInsetsEqualToEdgeInsets(_apply, UIEdgeInsetsZero))
    {
        //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
        id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];
        //: _bubbleViewInsets = [layoutConfig cellInsets:self];
        _apply = [layoutConfig year:self];
    }
    //: return _bubbleViewInsets;
    return _apply;
}

//: - (void)quickComments:(NIMMessage *)message
- (void)suite:(NIMMessage *)message
           //: completion:(void(^)(NSMapTable *))completion
           towardCollectionDramatic:(void(^)(NSMapTable *))completion
{
    //: [[NIMSDK sharedSDK].chatExtendManager quickCommentsByMessage:message
    [[NIMSDK sharedSDK].chatExtendManager quickCommentsByMessage:message
                                                      //: completion:^(NSError * _Nullable error, NSMapTable<NSNumber *,NIMQuickComment *> * _Nullable result)
                                                      completion:^(NSError * _Nullable error, NSMapTable<NSNumber *,NIMQuickComment *> * _Nullable result)
    {
        //: if (completion)
        if (completion)
        {
            //: if (result.count > 0)
            if (result.count > 0)
            {
                //: _emoticonsContainerSize = [WiseBaseOperandEnhance containerSizeWithComments:result];
                _adapt = [WiseBaseOperandEnhance mirrorAdvanced:result];
            }
            //: completion(result);
            completion(result);
        }
    //: }];
    }];
}

//: - (BOOL)isEqual:(id)object
- (BOOL)isEqual:(id)object
{
    //: if (![object isKindOfClass:[NegateCompositeDryLoad class]])
    if (![object isKindOfClass:[NegateCompositeDryLoad class]])
    {
        //: return NO;
        return NO;
    }
    //: else
    else
    {
        //: NegateCompositeDryLoad *model = object;
        NegateCompositeDryLoad *model = object;
        //: return [self.message isEqual:model.message];
        return [self.twist isEqual:model.twist];
    }
}

//: - (UIEdgeInsets)replyBubbleViewInsets{
- (UIEdgeInsets)heavenBehavior{
    //: if (UIEdgeInsetsEqualToEdgeInsets(_replyBubbleViewInsets, UIEdgeInsetsZero))
    if (UIEdgeInsetsEqualToEdgeInsets(_planner, UIEdgeInsetsZero))
    {
        //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
        id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];
        //: _replyBubbleViewInsets = [layoutConfig replyCellInsets:self];
        _planner = [layoutConfig theAdjust:self];
    }
    //: return _replyBubbleViewInsets;
    return _planner;
}

//: - (BOOL)shouldShowReadLabel
- (BOOL)whisper
{
    //: if (self.message.session.sessionType == NIMSessionTypeP2P)
    if (self.twist.session.sessionType == NIMSessionTypeP2P)
    {
        //: return _shouldShowReadLabel && self.message.isRemoteRead;
        return _whisper && self.twist.isRemoteRead;
    }
    //: else if (self.message.session.sessionType == NIMSessionTypeSuperTeam) { 
    else if (self.twist.session.sessionType == NIMSessionTypeSuperTeam) { //超大群这个功能还没做
        //: return NO;
        return NO;
    }
    //: else
    else
    {
        //: return _shouldShowReadLabel;
        return _whisper;
    }

}


//: - (BOOL)needShowRepliedContent
- (BOOL)verseAcross
{
//    BOOL should = self.message.messageType == NIMMessageTypeTip;
//    return !should && self.enableRepliedContent &&
//    self.message.repliedMessageId.length > 0;

    //: return [self.message.remoteExt.allKeys containsObject:@"reply"];
    return [self.twist.remoteExt.allKeys containsObject:StringFromNaturalData(&commonTenseTitle)];
}

//: - (UIEdgeInsets)contentViewInsets{
- (UIEdgeInsets)analyze{
    //: if (UIEdgeInsetsEqualToEdgeInsets(_contentViewInsets, UIEdgeInsetsZero))
    if (UIEdgeInsetsEqualToEdgeInsets(_skill, UIEdgeInsetsZero))
    {
        //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
        id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];
        //: _contentViewInsets = [layoutConfig contentViewInsets:self];
        _skill = [layoutConfig creative:self];
    }
    //: return _contentViewInsets;
    return _skill;
}

//: - (CGSize)replyContentSize:(CGFloat)width
- (CGSize)become:(CGFloat)width
{
    //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
    id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];
    //: CGSize size = [layoutConfig replyContentSize:self cellWidth:width];
    CGSize size = [layoutConfig tool:self texture:width];
    //: return size;
    return size;
}

//: - (BOOL)needShowEmoticonsView
- (BOOL)spring
{
    //: return self.enableQuickComments && !__CGSizeEqualToSize(CGSizeZero, self.emoticonsContainerSize);
    return self.splitChild && !__CGSizeEqualToSize(CGSizeZero, self.adapt);
}

//: - (CGSize)contentSize:(CGFloat)width
- (CGSize)unity:(CGFloat)width
{
    //: CGSize size = [self.contentSizeInfo[@(width)] CGSizeValue];
    CGSize size = [self.firmMinimum[@(width)] CGSizeValue];
    //: if (__CGSizeEqualToSize(size, CGSizeZero))
    if (__CGSizeEqualToSize(size, CGSizeZero))
    {
        //: [self updateLayoutConfig];
        [self stripConsistent];
        //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
        id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];
        //: size = [layoutConfig contentSize:self cellWidth:width];
        size = [layoutConfig disableEven:self messageFleetCreation:width];
        //: [self.contentSizeInfo setObject:[NSValue valueWithCGSize:size] forKey:@(width)];
        [self.firmMinimum setObject:[NSValue valueWithCGSize:size] forKey:@(width)];
    }
    //: return size;
    return size;
}


//: - (instancetype)initWithMessage:(NIMMessage*)message
- (instancetype)initWithVision:(NIMMessage*)message
{
    //: if (self = [self init])
    if (self = [self init])
    {
        //: _message = message;
        _twist = message;
        //: _messageTime = message.timestamp;
        _notebookShould = message.timestamp;
        //: _contentSizeInfo = [[NSMutableDictionary alloc] init];
        _firmMinimum = [[NSMutableDictionary alloc] init];
        //: _replyContentSizeInfo = [NSMutableDictionary dictionary];
        _firstVariable = [NSMutableDictionary dictionary];
        //: _enableRepliedContent = YES;
        _sheetNaturing = YES;
        //: _enableQuickComments = YES;
        _splitChild = YES;
        //: _shouldShowPinContent = YES;
        _writeSearchering = YES;
        //: _enableSubMessages = YES;
        _event = YES;
    }
    //: return self;
    return self;
}


//: - (NSString *)description{
- (NSString *)description{
    //: return self.message.text;
    return self.twist.text;
}

//: - (UIEdgeInsets)replyContentViewInsets{
- (UIEdgeInsets)gladDramatic{
    //: if (UIEdgeInsetsEqualToEdgeInsets(_replyContentViewInsets, UIEdgeInsetsZero))
    if (UIEdgeInsetsEqualToEdgeInsets(_secret, UIEdgeInsetsZero))
    {
        //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
        id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];
        //: _replyContentViewInsets = [layoutConfig replyContentViewInsets:self];
        _secret = [layoutConfig estimate:self];
    }
    //: return _replyContentViewInsets;
    return _secret;
}

//: - (void)cleanCache
- (void)remark
{
    //: [_contentSizeInfo removeAllObjects];
    [_firmMinimum removeAllObjects];
    //: _contentViewInsets = UIEdgeInsetsZero;
    _skill = UIEdgeInsetsZero;
    //: _bubbleViewInsets = UIEdgeInsetsZero;
    _apply = UIEdgeInsetsZero;
    //: _replyContentViewInsets = UIEdgeInsetsZero;
    _secret = UIEdgeInsetsZero;
    //: _replyBubbleViewInsets = UIEdgeInsetsZero;
    _planner = UIEdgeInsetsZero;
}

//: - (void)updateLayoutConfig
- (void)stripConsistent
{
    //: id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState sharedKit] layoutConfig];
    id<BuoyantUnityNorthEntropy> layoutConfig = [[PerformAcknowledgePoolState rock] site];

    //: _shouldShowAvatar = [layoutConfig shouldShowAvatar:self];
    _motionRich = [layoutConfig accurate:self];
    //: _shouldShowNickName = _focreShowNickName ? YES : [layoutConfig shouldShowNickName:self];
    _distribute = _wander ? YES : [layoutConfig dialog:self];
    //: _shouldShowLeft = _focreShowLeft ? YES : [layoutConfig shouldShowLeft:self];
    _instance = _bold ? YES : [layoutConfig exact:self];
    //: _avatarMargin = [layoutConfig avatarMargin:self];
    _factory = [layoutConfig tribe:self];
    //: _nickNameMargin = [layoutConfig nickNameMargin:self];
    _motionPoint = [layoutConfig independent:self];
    //: _avatarSize = [layoutConfig avatarSize:self];
    _hydratePath = [layoutConfig centralFabric:self];
}

//: - (BOOL)needShowReplyCountContent
- (BOOL)royalSurf
{
    //: return self.enableSubMessages;
    return self.event;
}

//: @end
@end

Byte *NaturalDataToByte(NaturalData *data) {
    if (data->magicStableTotaleractPine < 105) return data->duringSurge;
    for (int i = 0; i < data->skinOutput; i++) {
        data->duringSurge[i] ^= data->digitalColor;
    }
    data->duringSurge[data->skinOutput] = 0;
    data->magicStableTotaleractPine = 20;
	if (data->skinOutput >= 3) {
		data->stopAlong = data->duringSurge[0];
		data->skipRemove = data->duringSurge[1];
		data->densityLoyal = data->duringSurge[2];
	}
    return data->duringSurge;
}

NSString *StringFromNaturalData(NaturalData *data) {
    return [NSString stringWithUTF8String:(char *)NaturalDataToByte(data)];
}
